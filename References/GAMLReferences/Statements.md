# Statements

----

**This file is automatically generated from java files. Do Not Edit It.**

----

## Table of Contents
<wiki:toc max_depth="2" />
[=](#=), [assert](#assert), [conscious_contagion](#conscious_contagion), [diffuse](#diffuse), [emotional_contagion](#emotional_contagion), [equation](#equation), [focus](#focus), [output](#output), [perceive](#perceive), [plan](#plan), [rule](#rule), [run](#run), [setup](#setup), [solve](#solve), [test](#test), [unconscious_contagion](#unconscious_contagion), 


## Statements by kinds

  * **Behavior**
    * [plan](#plan),  [test](#test),  
  * **Output**
    * [output](#output),  
  * **Sequence of statements or action**
    * [equation](#equation),  [perceive](#perceive),  [run](#run),  [setup](#setup),  
  * **Single statement**
    * [=](#=),  [assert](#assert),  [conscious_contagion](#conscious_contagion),  [diffuse](#diffuse),  [emotional_contagion](#emotional_contagion),  [focus](#focus),  [rule](#rule),  [solve](#solve),  [unconscious_contagion](#unconscious_contagion),  


## Statements by embedment

  * **Behavior**
    * [conscious_contagion](#conscious_contagion), [diffuse](#diffuse), [emotional_contagion](#emotional_contagion), [focus](#focus), [run](#run), [solve](#solve), [unconscious_contagion](#unconscious_contagion), 
  * **Experiment**
    * [output](#output), [setup](#setup), [test](#test), 
  * **Model**
    * [equation](#equation), [output](#output), [perceive](#perceive), [plan](#plan), [rule](#rule), [run](#run), [setup](#setup), [test](#test), 
  * **Sequence of statements or action**
    * [conscious_contagion](#conscious_contagion), [diffuse](#diffuse), [emotional_contagion](#emotional_contagion), [focus](#focus), [solve](#solve), [unconscious_contagion](#unconscious_contagion), 
  * **Single statement**
    * [run](#run), 
  * **Species**
    * [equation](#equation), [perceive](#perceive), [plan](#plan), [rule](#rule), [run](#run), [setup](#setup), [test](#test), 
  * **equation**
    * [=](#=), 
  * **test**
    * [assert](#assert), 


## General syntax

A statement represents either a declaration or an imperative command. It consists in a keyword, followed by specific facets, some of them mandatory (in bold), some of them optional. One of the facet names can be omitted (the one denoted as omissible). It has to be the first one.

```
statement_keyword expression1 facet2: expression2 ... ;
or
statement_keyword facet1: expression1 facet2: expression2 ...;
```

If the statement encloses other statements, it is called a **sequence statement**, and its sub-statements (either sequence statements or single statements) are declared between curly brackets, as in:

```
statement_keyword1 expression1 facet2: expression2... { // a sequence statement
     statement_keyword2 expression1 facet2: expression2...;  // a single statement
     statement_keyword3 expression1 facet2: expression2...;
}
```

[Top of the page](#table-of-contents)

	

----

[//]: # (keyword|statement_=)
### = 
#### Facets 
  
  * **`right`** (float), (omissible) : the right part of the equation (it is mandatory that it can be evaluated as a float  
  * **`left`** (any type): the left part of the equation (it should be a variable or a call to the diff() or diff2() operators) 
 	
#### Definition

Allows to implement an equation in the form function(n, t) = expression. The left function is only here as a placeholder for enabling a simpler syntax and grabbing the variable as its left member.

#### Usages

* The syntax of the = statement is a bit different from the other statements. It has to be used as follows (in an equation):

```
float t;
float S;
float I;
equation SI { 
   diff(S,t) = (- 0.3 * S * I / 100);
   diff(I,t) = (0.3 * S * I / 100);
} 
```

    
* See also: [equation](#equation), [solve](#solve), 

#### Embedments
* The `=` statement is of type: **Single statement**
* The `=` statement can be embedded into: equation, 
* The `=` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_assert)
### assert 
#### Facets 
  
  * **`value`** (any type), (omissible) : the value that is evaluated and compared to other facets
  * `equals` (any type): an expression, assert tests whether the value is equals to this expression
  * `is_not` (any type): an expression, assert tests whether the value is not equals to this expression
  * `raises` (an identifier): "error" or "warning", used in testing what raises the evaluation of the value: expression 
 	
#### Definition

Allows to check whether the evaluation of a given expression fulfills a given condition. If it is not fulfilled, an exception is raised.

#### Usages

* if the equals: facet is used, the equality between the evaluation of expressions in the value: and in the equals: facets is tested

```
assert (2+2) equals: 4;
```


* if the is_not: facet is used, the inequality between the evaluation of expressions in the value: and in the equals: facets is tested

```
assert self is_not: nil;
```


* if the raises: facet is used with either "warning" or "error", the statement tests whether the evaluation of the value: expression raises an error (resp. a warning)

```
int z <- 0;
assert (3/z) raises: "error";
```

    
* See also: [test](#test), [setup](#setup), 

#### Embedments
* The `assert` statement is of type: **Single statement**
* The `assert` statement can be embedded into: test, 
* The `assert` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_conscious_contagion)
### conscious_contagion 
#### Facets 
  
  * **`emotion_created`** (546706): the emotion that will be created with the contagion  
  * **`emotion_detected`** (546706): the emotion that will start the contagion
  * `name` (an identifier), (omissible) : the identifier of the unconscious contagion
  * `charisma` (float): The charisma value of the perceived agent (between 0 and 1)
  * `receptivity` (float): The receptivity value of the current agent (between 0 and 1)
  * `threshold` (float): The threshold value to make the contagion
  * `when` (boolean): A boolean value to get the emotion only with a certain condition 
 	
#### Definition

enables to directly add an emotion of a perceived specie if the perceived agent ges a patricular emotion.

#### Usages

* Other examples of use: 
```
conscious_contagion emotion_detected:fear emotion_created:fearConfirmed;
conscious_contagion emotion_detected:fear emotion_created:fearConfirmed charisma: 0.5 receptivity: 0.5;
``` 
  

#### Embedments
* The `conscious_contagion` statement is of type: **Single statement**
* The `conscious_contagion` statement can be embedded into: Behavior, Sequence of statements or action, 
* The `conscious_contagion` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_diffuse)
### diffuse 
#### Facets 
  
  * **`var`** (an identifier), (omissible) : the variable to be diffused  
  * **`on`** (any type in [container, species]): the list of agents (in general cells of a grid), on which the diffusion will occur
  * `avoid_mask` (boolean): if true, the value will not be diffused in the masked cells, but will be restitute to the neighboring cells, multiplied by the proportion value (no signal lost). If false, the value will be diffused in the masked cells, but masked cells won't diffuse the value afterward (lost of signal). (default value : false)
  * `cycle_length` (int): the number of diffusion operation applied in one simulation step
  * `mask` (matrix): a matrix masking the diffusion (matrix created from a image for example). The cells corresponding to the values smaller than "-1" in the mask matrix will not diffuse, and the other will diffuse.
  * `mat_diffu` (matrix): the diffusion matrix (can have any size)
  * `matrix` (matrix): the diffusion matrix ("kernel" or "filter" in image processing). Can have any size, as long as dimensions are odd values.
  * `method` (an identifier), takes values in: {convolution, dot_product}: the diffusion method
  * `min_value` (float): if a value is smaller than this value, it will not be diffused. By default, this value is equal to 0.0. This value cannot be smaller than 0.
  * `propagation` (a label), takes values in: {diffusion, gradient}: represents both the way the signal is propagated and the way to treat multiple propagation of the same signal occurring at once from different places. If propagation equals 'diffusion', the intensity of a signal is shared between its neighbors with respect to 'proportion', 'variation' and the number of neighbors of the environment places (4, 6 or 8). I.e., for a given signal S propagated from place P, the value transmitted to its N neighbors is : S' = (S / N / proportion) - variation. The intensity of S is then diminished by S `*` proportion on P. In a diffusion, the different signals of the same name see their intensities added to each other on each place. If propagation equals 'gradient', the original intensity is not modified, and each neighbors receives the intensity : S / proportion - variation. If multiple propagation occur at once, only the maximum intensity is kept on each place. If 'propagation' is not defined, it is assumed that it is equal to 'diffusion'.
  * `proportion` (float): a diffusion rate
  * `radius` (int): a diffusion radius (in number of cells from the center)
  * `variation` (float): an absolute value to decrease at each neighbors 
 	
#### Definition

This statements allows a value to diffuse among a species on agents (generally on a grid) depending on a given diffusion matrix.

#### Usages

* A basic example of diffusion of the variable phero defined in the species cells, given a diffusion matrix math_diff is:

```
matrix<float> math_diff <- matrix([[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]]);
diffuse var: phero on: cells mat_diffu: math_diff;
```


* The diffusion can be masked by obstacles, created from a bitmap image:

```
diffuse var: phero on: cells mat_diffu: math_diff mask: mymask;
```


* A convenient way to have an uniform diffusion in a given radius is (which is equivalent to the above diffusion):

```
diffuse var: phero on: cells proportion: 1/9 radius: 1;
```



#### Embedments
* The `diffuse` statement is of type: **Single statement**
* The `diffuse` statement can be embedded into: Behavior, Sequence of statements or action, 
* The `diffuse` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_emotional_contagion)
### emotional_contagion 
#### Facets 
  
  * **`emotion_detected`** (546706): the emotion that will start the contagion
  * `name` (an identifier), (omissible) : the identifier of the emotional contagion
  * `charisma` (float): The charisma value of the perceived agent (between 0 and 1)
  * `emotion_created` (546706): the emotion that will be created with the contagion
  * `receptivity` (float): The receptivity value of the current agent (between 0 and 1)
  * `threshold` (float): The threshold value to make the contagion
  * `when` (boolean): A boolean value to get the emotion only with a certain condition 
 	
#### Definition

enables to make conscious or unconscious emotional contagion

#### Usages

* Other examples of use: 
```
emotional_contagion emotion_detected:fearConfirmed;
emotional_contagion emotion_detected:fear emotion_created:fearConfirmed;
emotional_contagion emotion_detected:fear emotion_created:fearConfirmed charisma: 0.5 receptivity: 0.5;
``` 
  

#### Embedments
* The `emotional_contagion` statement is of type: **Single statement**
* The `emotional_contagion` statement can be embedded into: Behavior, Sequence of statements or action, 
* The `emotional_contagion` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_equation)
### equation 
#### Facets 
  
  * **`name`** (an identifier), (omissible) : the equation identifier
  * `params` (list): the list of parameters used in predefined equation systems
  * `simultaneously` (list): a list of species containing a system of equations (all systems will be solved simultaneously)
  * `type` (an identifier), takes values in: {SI, SIS, SIR, SIRS, SEIR, LV}: the choice of one among classical models (SI, SIS, SIR, SIRS, SEIR, LV)
  * `vars` (list): the list of variables used in predefined equation systems 
 	
#### Definition

The equation statement is used to create an equation system from several single equations.

#### Usages

* The basic syntax to define an equation system is:

```
float t;
float S;
float I;
equation SI { 
   diff(S,t) = (- 0.3 * S * I / 100);
   diff(I,t) = (0.3 * S * I / 100);
} 
```


* If the type: facet is used, a predefined equation system is defined using variables vars: and parameters params: in the right order. All possible predefined equation systems are the following ones (see [EquationPresentation161 EquationPresentation161] for precise definition of each classical equation system): 

```
equation eqSI type: SI vars: [S,I,t] params: [N,beta];
equation eqSIS type: SIS vars: [S,I,t] params: [N,beta,gamma];
equation eqSIR type:SIR vars:[S,I,R,t] params:[N,beta,gamma];
equation eqSIRS type: SIRS vars: [S,I,R,t] params: [N,beta,gamma,omega,mu];
equation eqSEIR type: SEIR vars: [S,E,I,R,t] params: [N,beta,gamma,sigma,mu];
equation eqLV type: LV vars: [x,y,t] params: [alpha,beta,delta,gamma] ;
```


* If the simultaneously: facet is used, system of all the agents will be solved simultaneously.    
* See also: [=](#=), [solve](#solve), 

#### Embedments
* The `equation` statement is of type: **Sequence of statements or action**
* The `equation` statement can be embedded into: Species, Model, 
* The `equation` statement embeds statements: [=](#=),  

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_focus)
### focus 
#### Facets 

  * `name` (an identifier), (omissible) : the identifier of the focus
  * `expression` (any type): an expression that will be the value kept in the belief
  * `priority` (any type in [float, int]): The priority of the created predicate
  * `var` (any type in [any type, list, container]): the variable of the perceived agent you want to add to your beliefs
  * `when` (boolean): A boolean value to focus only with a certain condition 
 	
#### Definition

enables to directly add a belief from the variable of a perceived specie.

#### Usages

* Other examples of use: 
```
focus var:speed /*where speed is a variable from a species that is being perceived*/
``` 
  

#### Embedments
* The `focus` statement is of type: **Single statement**
* The `focus` statement can be embedded into: Behavior, Sequence of statements or action, 
* The `focus` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_output)
### output 
#### Facets 
 
 	
#### Definition

`output` blocks define how to visualize a simulation (with one or more display blocks that define separate windows). It will include a set of displays, monitors and files statements. It will be taken into account only if the experiment type is `gui`.

#### Usages

* Its basic syntax is: 

```
experiment exp_name type: gui {
   // [inputs]
   output {
      // [display, file, inspect, layout or monitor statements]
   }
}
```

    
* See also: [display](#display), [monitor](#monitor), [inspect](#inspect), [output_file](#output_file), [layout](#layout), 

#### Embedments
* The `output` statement is of type: **Output**
* The `output` statement can be embedded into: Model, Experiment, 
* The `output` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_perceive)
### perceive 
#### Facets 
  
  * **`target`** (any type in [container, point, agent]): the list of the agent you want to perceive
  * `name` (an identifier), (omissible) : the name of the perception
  * `as` (species): an expression that evaluates to a species
  * `emotion` (546706): The emotion needed to do the perception
  * `in` (any type in [float, geometry]): a float or a geometry. If it is a float, it's a radius of a detection area. If it is a geometry, it is the area of detection of others species.
  * `threshold` (float): Threshold linked to the emotion.
  * `when` (boolean): a boolean to tell when does the perceive is active 
 	
#### Definition

Allow the agent, with a bdi architecture, to perceive others agents

#### Usages

* the basic syntax to perceive agents inside a circle of perception

```
perceive name_of-perception target: the_agents_you_want_to_perceive in: a_distance when: a_certain_condition {
Here you are in the context of the perceived agents. To refer to the agent who does the perception, use myself.
If you want to make an action (such as adding a belief for example), use ask myself{ do the_action}
}
```



#### Embedments
* The `perceive` statement is of type: **Sequence of statements or action**
* The `perceive` statement can be embedded into: Species, Model, 
* The `perceive` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_plan)
### plan 
#### Facets 

  * `name` (an identifier), (omissible) : 
  * `emotion` (546706): 
  * `finished_when` (boolean): 
  * `instantaneous` (boolean): 
  * `intention` (546704): 
  * `priority` (float): 
  * `threshold` (float): 
  * `when` (boolean): 

#### Embedments
* The `plan` statement is of type: **Behavior**
* The `plan` statement can be embedded into: Species, Model, 
* The `plan` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_rule)
### rule 
#### Facets 

  * `name` (an identifier), (omissible) : The name of the rule
  * `belief` (546704): The mandatory belief
  * `desire` (546704): The mandatory desire
  * `emotion` (546706): The mandatory emotion
  * `new_belief` (546704): The belief that will be added
  * `new_desire` (546704): The desire that will be added
  * `new_emotion` (546706): The emotion that will be added
  * `new_uncertainty` (546704): The uncertainty that will be added
  * `priority` (any type in [float, int]): The priority of the predicate added as a desire
  * `remove_belief` (546704): The belief that will be removed
  * `remove_desire` (546704): The desire that will be removed
  * `remove_emotion` (546706): The emotion that will be removed
  * `remove_intention` (546704): The intention that will be removed
  * `remove_uncertainty` (546704): The uncertainty that will be removed
  * `threshold` (float): Threshold linked to the emotion.
  * `uncertainty` (546704): The mandatory uncertainty
  * `when` (boolean):  
 	
#### Definition

enables to add a desire or a belief or to remove a belief, a desire or an intention if the agent gets the belief or/and desire or/and condition mentioned.

#### Usages

* Other examples of use: 
```
rule belief: new_predicate("test") when: flip(0.5) new_desire: new_predicate("test")
``` 
  

#### Embedments
* The `rule` statement is of type: **Single statement**
* The `rule` statement can be embedded into: Species, Model, 
* The `rule` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_run)
### run 
#### Facets 
  
  * **`name`** (string), (omissible) :   
  * **`of`** (string): 
  * `core` (int): 
  * `end_cycle` (int): 
  * `seed` (int): 
  * `with_output` (map): 
  * `with_param` (map): 

#### Embedments
* The `run` statement is of type: **Sequence of statements or action**
* The `run` statement can be embedded into: Behavior, Single statement, Species, Model, 
* The `run` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_setup)
### setup 
#### Facets 
 
 	
#### Definition

The setup statement is used to define the set of instructions that will be executed before every [#test test].

#### Usages

* As every test should be independent from the others, the setup will mainly contain initialization of variables that will be used in each test.

```
species Tester {
    int val_to_test;

    setup {
        val_to_test <- 0;
    }

    test t1 {
       // [set of instructions, including asserts]
    }
}
```

    
* See also: [test](#test), [assert](#assert), 

#### Embedments
* The `setup` statement is of type: **Sequence of statements or action**
* The `setup` statement can be embedded into: Species, Experiment, Model, 
* The `setup` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_solve)
### solve 
#### Facets 
  
  * **`equation`** (an identifier), (omissible) : the equation system identifier to be numerically solved
  * `cycle_length` (int): length of simulation cycle which will be synchronize with step of integrator (default value: 1)
  * `discretizing_step` (int): number of discrete between 2 steps of simulation (default value: 0)
  * `integrated_times` (list): time interval inside integration process
  * `integrated_values` (list): list of variables's value inside integration process
  * `max_step` (float): maximal step, (used with dp853 method only), (sign is irrelevant, regardless of integration direction, forward or backward), the last step can be smaller than this value
  * `method` (an identifier), takes values in: {Euler, ThreeEighthes, Midpoint, Gill, Luther, rk4, dp853, AdamsBashforth, AdamsMoulton, DormandPrince54, GraggBulirschStoer, HighamHall54}: integrate method (can be only "Euler", "ThreeEighthes", "Midpoint", "Gill", "Luther", "rk4" or "dp853", "AdamsBashforth", "AdamsMoulton", "DormandPrince54", "GraggBulirschStoer",  "HighamHall54") (default value: "rk4")
  * `min_step` (float): minimal step, (used with dp853 method only), (sign is irrelevant, regardless of integration direction, forward or backward), the last step can be smaller than this value
  * `scalAbsoluteTolerance` (float): allowed absolute error (used with dp853 method only)
  * `scalRelativeTolerance` (float): allowed relative error (used with dp853 method only)
  * `step` (float): integration step, use with most integrator methods (default value: 1)
  * `time_final` (float): target time for the integration (can be set to a value smaller than t0 for backward integration)
  * `time_initial` (float): initial time 
 	
#### Definition

Solves all equations which matched the given name, with all systems of agents that should solved simultaneously.

#### Usages

* Other examples of use: 
```
solve SIR method: "rk4" step:0.001;
``` 
  

#### Embedments
* The `solve` statement is of type: **Single statement**
* The `solve` statement can be embedded into: Behavior, Sequence of statements or action, 
* The `solve` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_test)
### test 
#### Facets 

  * `name` (an identifier), (omissible) : identifier of the test 
 	
#### Definition

The test statement allows modeler to define a set of assertions that will be tested. Before the execution of the embedded set of instructions, if a setup is defined in the species, model or experiment, it is executed. In a test, if one assertion fails, the evaluation of other assertions continue (if GAMA is configured in the preferences that the program does not stop at the first exception).

#### Usages

* An example of use:

```
species Tester {
    // set of attributes that will be used in test

    setup {
        // [set of instructions... in particular initializations]
    }

    test t1 {
       // [set of instructions, including asserts]
    }
}
```

    
* See also: [setup](#setup), [assert](#assert), 

#### Embedments
* The `test` statement is of type: **Behavior**
* The `test` statement can be embedded into: Species, Experiment, Model, 
* The `test` statement embeds statements: [assert](#assert),  

[Top of the page](#table-of-contents)
		
	

----

[//]: # (keyword|statement_unconscious_contagion)
### unconscious_contagion 
#### Facets 
  
  * **`emotion`** (546706): the emotion that will be copied with the contagion
  * `name` (an identifier), (omissible) : the identifier of the unconscious contagion
  * `charisma` (float): The charisma value of the perceived agent (between 0 and 1)
  * `receptivity` (float): The receptivity value of the current agent (between 0 and 1)
  * `threshold` (float): The threshold value to make the contagion
  * `when` (boolean): A boolean value to get the emotion only with a certain condition 
 	
#### Definition

enables to directly copy an emotion presents in the perceived specie.

#### Usages

* Other examples of use: 
```
unconscious_contagion emotion:fearConfirmed; 
unconscious_contagion emotion:fearConfirmed charisma: 0.5 receptivity: 0.5;
``` 
  

#### Embedments
* The `unconscious_contagion` statement is of type: **Single statement**
* The `unconscious_contagion` statement can be embedded into: Behavior, Sequence of statements or action, 
* The `unconscious_contagion` statement embeds statements: 

[Top of the page](#table-of-contents)
		
	