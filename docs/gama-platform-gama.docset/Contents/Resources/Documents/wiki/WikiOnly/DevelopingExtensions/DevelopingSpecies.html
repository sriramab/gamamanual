<html><!-- Online page at https://github.com/gama-platform/gama/wiki/WikiOnly/DevelopingExtensions/DevelopingSpecies --><head><meta charset="utf-8"><title>DevelopingSpecies</title><script src="../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="developingspecies">DevelopingSpecies</h1>
<a class="dashAnchor" name="//apple_ref/Section/Developing%20Species"></a><h1 id="developing-species">Developing Species</h1>
<table><thead><tr></tr></thead><tbody><tr></tr></tbody></table><p>Additional <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/BuiltInSpecies.html">built-in species</a> can be defined in Java in order to be used in GAML models. Additional attributes and actions can be defined. It could be very useful in order to define its behavior thanks to external libraries (e.g. <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/OtherBuiltInSpecies.html">mulit-criteria decision-making</a>, <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/OtherBuiltInSpecies.html">database connection</a>...).</p>
<p>A new built-in species extends the <code>GamlAgent</code> class, which defines the basic GAML agents. As a consequence, new built-in species have all the attributes (<code>name</code>, <code>shape</code>, ...) and actions (<code>die</code>...) of <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/AgentBuiltIn.html">regular species</a>.</p>
<table><thead><tr></tr></thead><tbody><tr></tr><tr></tr><tr></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/Implementation"></a><h2 id="implementation">Implementation</h2>
<p>A new species can be <strong>any Java class</strong> that:</p>
<ul>
<li>extends the <code>GamlAgent</code> class,
<ul>
<li>begins by the <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/DevelopingIndexAnnotations#@species.html">@species</a>: <code>@species(name = "name_of_the_species_gaml")</code>,
<code>
@species(name = "multicriteria_analyzer")
public class MulticriteriaAnalyzer extends GamlAgent {
</code></li>
</ul>
</li>
</ul>
<p><a href="DevelopingSkills.html">Similarly to skills</a>, a species can define additional attributes and actions.</p>
<a class="dashAnchor" name="//apple_ref/Section/Additional%20attributes"></a><h3 id="additional-attributes">Additional attributes</h3>
<p>Defining new attributes needs:</p>
<ul>
<li>to add <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/DevelopingIndexAnnotations#@vars.html">@vars</a> (and one embedded <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/DevelopingIndexAnnotations#@var.html">@var</a> per additional attribute) annotation on top of the class,
<ul>
<li>to define <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/DevelopingIndexAnnotations#@setter.html">@setter</a> and <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/DevelopingIndexAnnotations#@getter.html">@getter</a> annotations to the accessors methods.</li>
</ul>
</li>
</ul>
<p>For example, regular species are defined with the following annotation:</p>
<pre><code class="hljs less"><span class="hljs-variable"><span class="hljs-variable">@vars</span></span>({ <span class="hljs-variable"><span class="hljs-variable">@var</span></span>(name = IKeyword.NAME, type = IType.STRING), <span class="hljs-variable"><span class="hljs-variable">@var</span></span>(name = IKeyword.PEERS, type = IType.LIST),
    <span class="hljs-variable"><span class="hljs-variable">@var</span></span>(name = IKeyword.HOST, type = IType.AGENT),
    <span class="hljs-variable"><span class="hljs-variable">@var</span></span>(name = IKeyword.LOCATION, type = IType.POINT, depends_on = IKeyword.SHAPE),
    <span class="hljs-variable"><span class="hljs-variable">@var</span></span>(name = IKeyword.SHAPE, type = IType.GEOMETRY) })
</code></pre>
<p>And accessors are defined using:</p>
<pre><code class="hljs aspectj"><span class="hljs-meta"><span class="hljs-meta">@getter</span></span>(IKeyword.NAME)
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;

<span class="hljs-meta"><span class="hljs-meta">@setter</span></span>(IKeyword.NAME)
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span></span>;
</code></pre>
<a class="dashAnchor" name="//apple_ref/Section/Additional%20actions"></a><h3 id="additional-actions">Additional actions</h3>
<p>An additional action is a method annotated by the <a href="https://github.com/wiki/gama-platform/gama/WikiOnly/DevelopingExtensions/DevelopingIndexAnnotations#@action.html">@action</a> annotation.</p>
<pre><code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@action(name = ISpecies.stepActionName)</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Object _step_(<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> IScope scope) {
</code></pre>
<table><thead><tr></tr></thead><tbody><tr></tr><tr></tr><tr></tr><tr></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/Annotations"></a><h2 id="annotations">Annotations</h2>
<a class="dashAnchor" name="//apple_ref/Section/@species"></a><h3 id="species">@species</h3>
<p>This annotation represents a "species" in GAML. The class annotated with this annotation will be the support of a species of agents.</p>
<p>This annotation contains:</p>
<ul>
<li><strong>name</strong> (string): <em>the name of the species that will be created with this class as base. Must be unique throughout GAML</em>.
<ul>
<li><strong>skills</strong> (set of strings, empty by default): <em>An array of skill names that will be automatically attached to this species.</em> Example: <code>
 @species(value="animal" skills={"moving"})</code></li>
<li><strong>internal</strong> (boolean, false by default): <em>whether this species is for internal use only</em>.</li>
<li><strong>doc</strong> (set of @doc, empty by default): <em>the documentation attached to this operator.</em></li>
</ul>
</li>
</ul>
<p>All these annotations are defined in the <code>GamlAnnotations.java</code> file of the <code>msi.gama.processor</code> plug-in.</p>
<script>hljs.initHighlightingOnLoad();</script></body></html>