<html><!-- Online page at https://github.com/gama-platform/gama/wiki/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/DefiningDisplaysGeneralities --><head><meta charset="utf-8"><title>DefiningDisplaysGeneralities</title><script src="../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="definingdisplaysgeneralities">DefiningDisplaysGeneralities</h1>
<a class="dashAnchor" name="//apple_ref/Section/Defining%20displays%20(Generalities)"></a><h1 id="defining-displays-generalities">Defining displays (Generalities)</h1>
<a class="dashAnchor" name="//apple_ref/Section/Index"></a><h2 id="index">Index</h2>
<ul>
<li><a href="#displays-and-layers">Displays and layers</a></li>
<li><a href="#organize-your-layers">Organize your layers</a></li>
<li><a href="#example-of-layers">Example of layers</a>
<ul>
<li><a href="#agents-layer">agents layer</a></li>
<li><a href="#species-layer">species layer</a></li>
<li><a href="#image-layer">image layer</a></li>
<li><a href="#text-layer">text layer</a></li>
<li><a href="#graphics-layer">graphics layer</a></li>
</ul>
</li>
</ul>
<a class="dashAnchor" name="//apple_ref/Section/Displays%20and%20layers"></a><h2 id="displays-and-layers">Displays and layers</h2>
<p>A display is the graphical output of your simulation. You can define several displays related with what you want to represent from your model execution. To define a display, use the keyword <code>display</code> inside the <code>output</code> scope, and specify a name (<code>name</code> facet).</p>
<pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">experiment</span></span> my_experiment type: gui {
    <span class="hljs-section"><span class="hljs-section">output</span></span> {
        <span class="hljs-attribute"><span class="hljs-attribute">display</span></span> <span class="hljs-string"><span class="hljs-string">"display1"</span></span> {
        }
        <span class="hljs-attribute"><span class="hljs-attribute">display</span></span> name:<span class="hljs-string"><span class="hljs-string">"display2"</span></span> {
        }
    }
}
</code></pre>
<p>Other facets are available when defining your display:</p>
<ul>
<li>Use <code>background</code> to define a color for your background
<code>
display "my_display" background:#red
</code>
[//]: # (keyword|concept_refresh)</li>
<li>Use <code>refresh</code> if you want to refresh the display when a condition is true (to refresh your display every number of steps, use the operator <code>every</code>)
<code>
display "my_display" refresh:every(10)
</code></li>
</ul>
<p>You can choose between two types of displays, by using the facet type:</p>
<ul>
<li>java2D displays will be used when you want to have 2D visualization. It is used for example when you manipulate charts. This is the default value for the facet type. </li>
<li>opengl displays allows you to have 3D visualization.</li>
</ul>
<p>You can save the display on the disk, as a png file, in the folder name_of_model/models/snapshots, by using the facet <code>autosave</code>. This facet takes one a boolean as argument (to allow or not to save each frame) or a point (to define the size of your image). By default, the resolution of the output image is 500x500px (note that when no unit is provided, the unit is <code>#px</code> (pixel) ).</p>
<pre><code class="hljs groovy">display my_display <span class="hljs-string"><span class="hljs-string">autosave:</span></span><span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-string"><span class="hljs-string">type:</span></span>java2D {}
</code></pre>
<p>is equivalent to :</p>
<pre><code class="hljs elm"><span class="hljs-title"><span class="hljs-title">display</span></span> my_display autosave:{<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">500</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>:java2D {}
</code></pre>
<p>Each display can be decomposed in one or several layers. Here is a screenshot (from the Toy Model Ant) to better understand those different notions we are about to tackle in this session.</p>
<p><img src="../../../../github.com/wiki/gama-platform/gama/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/resources/images/definingGUIExperiment/difference_layer_display.png" alt="images/difference_layer_display.png"></p>
<a class="dashAnchor" name="//apple_ref/Section/Organize%20your%20layers"></a><h2 id="organize-your-layers">Organize your layers</h2>
<p>In one 2D display, you will have several types of layers, giving what you want to display in your model. You have a large number of layers available. You already know some of them, such as <code>species</code>, <code>agents</code>, <code>grid</code>, but other specific layers such as <code>image</code> (to display image) and <code>graphics</code> (to freely draw shapes/geometries/texts without having to define a species) are also available</p>
<p>Each layer will be displayed in the same order as you declare them. The last declared layer will be above the others.</p>
<p>Thus, the following code:</p>
<pre><code class="hljs maxima">experiment expe type:gui {
    output {
        <span class="hljs-built_in"><span class="hljs-built_in">display</span></span> my_display {
            graphics <span class="hljs-string"><span class="hljs-string">"layer1"</span></span> {
                <span class="hljs-built_in"><span class="hljs-built_in">draw</span></span> square(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">at</span></span>:{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">color</span></span>:#gold;
            }
            graphics <span class="hljs-string"><span class="hljs-string">"layer2"</span></span> {
                <span class="hljs-built_in"><span class="hljs-built_in">draw</span></span> square(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">at</span></span>:{<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">color</span></span>:#darkorange;
            }
            graphics <span class="hljs-string"><span class="hljs-string">"layer3"</span></span> {
                <span class="hljs-built_in"><span class="hljs-built_in">draw</span></span> square(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">at</span></span>:{<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">color</span></span>:#cornflowerblue;
            }
        }
    }
}
</code></pre>
<p>Will have this output:</p>
<p><img src="../../../../github.com/wiki/gama-platform/gama/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/resources/images/definingGUIExperiment/layers_order.png" alt="images/layers_order.png"></p>
<p>Most of the layers have the <code>transparency</code> facet in order to see the layers which are under.</p>
<pre><code class="hljs xquery">experiment expe type:gui {
    output {
        display my_display {
            graphics <span class="hljs-string"><span class="hljs-string">"layer1"</span></span> {
                draw square(<span class="hljs-number"><span class="hljs-number">20</span></span>) at:{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>} color:#darkorange;
            }
            graphics <span class="hljs-string"><span class="hljs-string">"layer2"</span></span> transparency:<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> {
                draw square(<span class="hljs-number"><span class="hljs-number">20</span></span>) at:{<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>} color:#cornflowerblue;
            }
        }
    }
}
</code></pre>
<p><img src="../../../../github.com/wiki/gama-platform/gama/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/resources/images/definingGUIExperiment/layers_transparency.png" alt="images/layers_transparency.png"></p>
<p>To specify a position and a size for your layer, you can use the <code>position</code> and the <code>size</code> facets.
The <code>position</code> facet is used with a point type, between {0,0} and {1,1}, which corresponds to the position of the upper left corner of your layer in percentage. Then, if you choose the point {0.5,0.5}, the upper left corner of your layer will be in the center of your display. By default, this value is {0,0}.
The <code>size</code> facet is used with a point type, between {0,0} and {1,1} also. It corresponds to the size occupied by the layer in percentage. By default, this value is {1,1}.</p>
<pre><code class="hljs processing">experiment expe type:gui {
    output {
        display my_display {
            graphics <span class="hljs-string"><span class="hljs-string">"layer1"</span></span> position:{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">size</span></span>:{<span class="hljs-number"><span class="hljs-number">0.5</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>} {
                <span class="hljs-title"><span class="hljs-title">draw</span></span> <span class="hljs-built_in"><span class="hljs-built_in">shape</span></span> <span class="hljs-built_in"><span class="hljs-built_in">color</span></span>:#darkorange;
            }
            graphics <span class="hljs-string"><span class="hljs-string">"layer2"</span></span> position:{<span class="hljs-number"><span class="hljs-number">0.3</span></span>,<span class="hljs-number"><span class="hljs-number">0.1</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">size</span></span>:{<span class="hljs-number"><span class="hljs-number">0.6</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>} {
                <span class="hljs-title"><span class="hljs-title">draw</span></span> <span class="hljs-built_in"><span class="hljs-built_in">shape</span></span> <span class="hljs-built_in"><span class="hljs-built_in">color</span></span>:#cornflowerblue;
            }
            graphics <span class="hljs-string"><span class="hljs-string">"layer3"</span></span> position:{<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.2</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">size</span></span>:{<span class="hljs-number"><span class="hljs-number">0.3</span></span>,<span class="hljs-number"><span class="hljs-number">0.8</span></span>} {
                <span class="hljs-title"><span class="hljs-title">draw</span></span> <span class="hljs-built_in"><span class="hljs-built_in">shape</span></span> <span class="hljs-built_in"><span class="hljs-built_in">color</span></span>:#gold;
            }
        }
    }
}
</code></pre>
<p><img src="../../../../github.com/wiki/gama-platform/gama/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/resources/images/definingGUIExperiment/layers_size_position.png" alt="images/layers_size_position.png"></p>
<p>NB : <code>displays</code> can have background, while <code>graphics</code> can't. If you want to put a background for your <code>graphics</code>, a solution can be to draw the <code>shape</code> of the world (which is, by default, a square 100m*100m).</p>
<p>A lot of other facets are available for the different layers. Please read the documentation of <a href="https://github.com/wiki/gama-platform/gama/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/Statements#graphics.html"><code>graphics</code></a> for more information.</p>
<a class="dashAnchor" name="//apple_ref/Section/Example%20of%20layers"></a><h2 id="example-of-layers">Example of layers</h2>
<a class="dashAnchor" name="//apple_ref/Section/agents%20layer"></a><h3 id="agents-layer">agents layer</h3>
<p><code>agents</code> allows the modeler to display only the agents that fulfill a given condition. </p>
<p>Please read the documentation about <a href="https://github.com/wiki/gama-platform/gama/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/Statements#agents.html"><code>agents</code> statement</a> if you are interested.</p>
<a class="dashAnchor" name="//apple_ref/Section/species%20layer"></a><h3 id="species-layer">species layer</h3>
<p><code>species</code> allows modeler to display all the agent of a given species in the current display. In particular, modeler can choose the aspect used to display them.</p>
<p>Please read the documentation about <a href="https://github.com/wiki/gama-platform/gama/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/Statements#species.html"><code>species</code> statement</a> if you are interested.</p>
<a class="dashAnchor" name="//apple_ref/Section/image%20layer"></a><h3 id="image-layer">image layer</h3>
<p><code>image</code> allows modeler to display an image (e.g. as background of a simulation).</p>
<p>Please read the documentation about <a href="https://github.com/wiki/gama-platform/gama/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/Statements#image.html"><code>image</code> statement</a> if you are interested.</p>
<a class="dashAnchor" name="//apple_ref/Section/graphics%20layer"></a><h3 id="graphics-layer">graphics layer</h3>
<p><code>graphics</code> allows the modeler to freely draw shapes/geometries/texts without having to define a species.</p>
<p>Please read the documentation about <a href="https://github.com/wiki/gama-platform/gama/Tutorials/LearnGAMLStepByStep/DefiningGUIExperiment/Statements#graphics.html"><code>graphics</code> statement</a> if you are interested.</p>
<script>hljs.initHighlightingOnLoad();</script></body></html>