<html><!-- Online page at https://github.com/gama-platform/gama/wiki/Tutorials/Tutorials/TreeD/ThreeD_step1 --><head><meta charset="utf-8"><title>ThreeD_step1</title><script src="../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="threed_step1">ThreeD_step1</h1>
<a class="dashAnchor" name="//apple_ref/Section/1.%20Basic%20Model"></a><h1 id="1-basic-model">1. Basic Model</h1>
<table><thead><tr></tr></thead><tbody><tr></tr></tbody></table><p>In this first step, we will see how to define a 3D environment and populate it.</p>
<table><thead><tr></tr></thead><tbody><tr></tr><tr></tr><tr></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/Formulation"></a><h2 id="formulation">Formulation</h2>
<p>Initialize a 3D world with a population of cells placed randomly in a 3D 100x100x100 cube.</p>
<ul>
<li>Definition of the <strong>cells</strong> species
<ul>
<li>Definition of the <strong>nb_cells</strong> parameter</li>
<li>Creation of <strong>nb_cells</strong> <strong>cells</strong> agents randomly located in the 3D environment size: 100x100x100.</li>
</ul>
</li>
</ul>
<p><img src="../../../../github.com/wiki/gama-platform/gama/Tutorials/Tutorials/TreeD/resources/images/tutorials/3D_model_LQ.png" alt="images/3D_model_LQ.png"></p>
<table><thead><tr></tr></thead><tbody><tr></tr><tr></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/Model%20Definition"></a><h2 id="model-definition">Model Definition</h2>
<p>In this model we define one species of agent: the <strong>cells</strong> agents. The agents will be just displayed as a blue sphere of radius 1.</p>
<pre><code class="hljs processing">species cells{                      
  aspect <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> {
    <span class="hljs-title"><span class="hljs-title">draw</span></span> <span class="hljs-built_in"><span class="hljs-built_in">sphere</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">color</span></span>:#<span class="hljs-built_in"><span class="hljs-built_in">blue</span></span>;   
  }
}
</code></pre>
<a class="dashAnchor" name="//apple_ref/Section/Global%20Section"></a><h3 id="global-section">Global Section</h3>
<a class="dashAnchor" name="//apple_ref/Section/Global%20variable"></a><h4 id="global-variable">Global variable</h4>
<p>Definition of a global variable <strong>nb_cells</strong> of type <em>int</em> representing the number of <strong>cells</strong> agents.</p>
<pre><code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">global</span></span> {
   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nb_cells &lt;<span class="hljs-number"><span class="hljs-number">-100</span></span>;
}
</code></pre>
<a class="dashAnchor" name="//apple_ref/Section/Model%20initialization"></a><h4 id="model-initialization">Model initialization</h4>
<p>Definition of the init block in order to create <em>nb_cells</em> <strong>cells</strong> agents. By default an agent is created with a random location in x and y, and a z value equal to 0. In our case we want to place the <strong>cells</strong> randomly in the 3D environment so we set a random value for <em>x</em>, <em>y</em> and <em>z</em>.</p>
<pre><code class="hljs crmsh">create cells <span class="hljs-keyword"><span class="hljs-keyword">number</span></span>: nb_cells {
  <span class="hljs-keyword"><span class="hljs-keyword">location</span></span> <span class="hljs-title"><span class="hljs-title">&lt;- {rnd</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>), rnd(<span class="hljs-number"><span class="hljs-number">100</span></span>), rnd(<span class="hljs-number"><span class="hljs-number">100</span></span>)};
}
</code></pre>
<table><thead><tr></tr></thead><tbody><tr></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/Experiment"></a><h3 id="experiment">Experiment</h3>
<p>In our model, we define a basic gui experiment called <em>Tuto3D</em> :</p>
<pre><code class="hljs elm"><span class="hljs-title"><span class="hljs-title">experiment</span></span> <span class="hljs-type"><span class="hljs-type">Tuto3D</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: gui {
}
</code></pre>
<a class="dashAnchor" name="//apple_ref/Section/Input"></a><h4 id="input">Input</h4>
<p>Definition of a parameter from the the global variable <em>nb_cells</em> :</p>
<pre><code class="hljs groovy">experiment Tuto3D <span class="hljs-string"><span class="hljs-string">type:</span></span> gui {
   parameter <span class="hljs-string"><span class="hljs-string">"Initial number of cells: "</span></span> <span class="hljs-string"><span class="hljs-string">var:</span></span> nb_cells <span class="hljs-string"><span class="hljs-string">min:</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-string"><span class="hljs-string">max:</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span> <span class="hljs-string"><span class="hljs-string">category:</span></span> <span class="hljs-string"><span class="hljs-string">"Cells"</span></span>;  
}
</code></pre>
<a class="dashAnchor" name="//apple_ref/Section/Output"></a><h4 id="output">Output</h4>
<p>In our model, we define a display to draw the <strong>cells</strong> agents in a 3D environment.</p>
<pre><code class="hljs elm"><span class="hljs-title"><span class="hljs-title">output</span></span> {
  display <span class="hljs-type"><span class="hljs-type">View1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>:opengl {
    species cells;
  }
}
</code></pre>
<table><thead><tr></tr></thead><tbody><tr></tr><tr></tr><tr></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/Complete%20Model"></a><h2 id="complete-model">Complete Model</h2>
<p>This model is available in the model library (under Tutorials &gt; 3D) and the GIT version of the model can be found here [Model 01.gaml](<a href="https://github.com/gama-platform/gama/tree/master/msi.gama.models/models/Tutorials/3D/models/Model">https://github.com/gama-platform/gama/tree/master/msi.gama.models/models/Tutorials/3D/models/Model</a> 01.gaml)</p>
<pre><code class="hljs xquery">model Tuto3D

global {
  int nb_cells &lt;-<span class="hljs-number"><span class="hljs-number">100</span></span>;   
  init { 
    create cells number: nb_cells { 
      location &lt;- {rnd(<span class="hljs-number"><span class="hljs-number">100</span></span>), rnd(<span class="hljs-number"><span class="hljs-number">100</span></span>), rnd(<span class="hljs-number"><span class="hljs-number">100</span></span>)};       
    } 
  }  
} 
  
species cells{                      
  aspect default {
    draw sphere(<span class="hljs-number"><span class="hljs-number">1</span></span>) color:#blue;   
  }
}

experiment Tuto3D  type: gui {
  parameter <span class="hljs-string"><span class="hljs-string">"Initial number of cells: "</span></span> var: nb_cells min: <span class="hljs-number"><span class="hljs-number">1</span></span> max: <span class="hljs-number"><span class="hljs-number">1000</span></span> category: <span class="hljs-string"><span class="hljs-string">"Cells"</span></span> ;  
  output {
    display View1 type:opengl {
      species cells;
    }
  }
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>