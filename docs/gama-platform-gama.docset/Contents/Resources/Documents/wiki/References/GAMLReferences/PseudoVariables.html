<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/GAMLReferences/PseudoVariables --><head><meta charset="utf-8"><title>PseudoVariables</title><script src="../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="pseudovariables">PseudoVariables</h1>
<a class="dashAnchor" name="//apple_ref/Section/Pseudo-variables"></a><h1 id="pseudo-variables">Pseudo-variables</h1>
<table><thead><tr></tr></thead><tbody><tr></tr></tbody></table><p>The expressions known as <strong>pseudo-variables</strong> are special read-only variables that are not declared anywhere (at least not in a species), and which represent a value that changes depending on the context of execution.</p>
<a class="dashAnchor" name="//apple_ref/Section/Table%20of%20contents"></a><h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#pseudo-variables">Pseudo-variables</a>
<ul>
<li><a href="#self">self</a></li>
<li><a href="#myself">myself</a></li>
<li><a href="#each">each</a></li>
<li><a href="#super">super</a></li>
</ul>
</li>
</ul>
<table><thead><tr></tr></thead><tbody><tr></tr><tr></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/self"></a><h2 id="self">self</h2>
<p>The pseudo-variable <code>self</code> always holds a reference to the agent executing the current statement.</p>
<ul>
<li>Example (sets the <code>friend</code> attribute of another random agent of the same species to <code>self</code> and conversely):</li>
</ul>
<pre><code class="hljs crystal">friend potential_friend &lt;- one_of (species(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) - <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>);
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> potential_friend != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {
    potential_friend.friend &lt;- <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>;
    friend &lt;- potential_friend;
}
</code></pre>
<a class="dashAnchor" name="//apple_ref/Section/super"></a><h2 id="super">super</h2>
<p>The pseudo-variable <code>super</code> behaves exactly in the same way as <code>self</code> except when calling an action, in which case it represents an indirection to the parent species. It is mainly used for allowing to call inherited actions within redefined ones. For instance:</p>
<pre><code class="hljs aspectj">species parent {

    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b;
    }

}

species child parent: parent {

    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-comment"><span class="hljs-comment">// Calls the action defined in 'parent' with modified arguments</span></span>
        <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">return</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">super</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a + </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">20</span></span></span></span><span class="hljs-function"><span class="hljs-params">, b + </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">20</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;
    }

}
</code></pre>
<a class="dashAnchor" name="//apple_ref/Section/myself"></a><h2 id="myself">myself</h2>
<p><code>myself</code> plays the same role as <code>self</code> but in remotely-executed code (<code>ask</code>, <code>create</code>, <code>capture</code> and <code>release</code> statements), where it represents the <em>calling</em> agent when the code is executed by the <em>remote</em> agent.</p>
<ul>
<li>Example (asks the first agent of my species to set its color to my color):</li>
</ul>
<pre><code class="hljs maxima">ask <span class="hljs-built_in"><span class="hljs-built_in">first</span></span> (species (self)){
    <span class="hljs-built_in"><span class="hljs-built_in">color</span></span> &lt;- myself.<span class="hljs-built_in"><span class="hljs-built_in">color</span></span>;
}
</code></pre>
<ul>
<li>Example (create 10 new agents of the species of my species, share the energy between them, turn them towards me, and make them move 4 times to get closer to me):</li>
</ul>
<pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">create</span></span> species (self) number: <span class="hljs-number"><span class="hljs-number">10</span></span> {
   <span class="hljs-attribute"><span class="hljs-attribute">energy</span></span> &lt;- myself.energy / <span class="hljs-number"><span class="hljs-number">10</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>;
   <span class="hljs-attribute"><span class="hljs-attribute">loop</span></span> times: <span class="hljs-number"><span class="hljs-number">4</span></span> {
       <span class="hljs-attribute"><span class="hljs-attribute">heading</span></span> &lt;- towards (myself);
       <span class="hljs-attribute"><span class="hljs-attribute">do</span></span> move;
   }
}
</code></pre>
<table><thead><tr></tr></thead><tbody><tr></tr><tr></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/each"></a><h2 id="each">each</h2>
<p><code>each</code> is available only in the right-hand argument of <a href="https://github.com/wiki/gama-platform/gama/References/GAMLReferences/Operators#Iterator-operators.html">iterators</a>.  It is a pseudo-variable that represents, in turn, each of the elements of the left-hand container. It can then take any type depending on the context.</p>
<ul>
<li>Example:</li>
</ul>
<pre><code class="hljs livecodeserver">    list&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt; names &lt;- my_species collect <span class="hljs-keyword"><span class="hljs-keyword">each</span></span>.name; <span class="hljs-comment"><span class="hljs-comment"> // each is of type my_species</span></span>
    int <span class="hljs-built_in"><span class="hljs-built_in">max</span></span> &lt;- <span class="hljs-built_in"><span class="hljs-built_in">max</span></span>([<span class="hljs-string"><span class="hljs-string">'aa'</span></span>, <span class="hljs-string"><span class="hljs-string">'bbb'</span></span>, <span class="hljs-string"><span class="hljs-string">'cccc'</span></span>] collect <span class="hljs-built_in"><span class="hljs-built_in">length</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">each</span></span>));<span class="hljs-comment"><span class="hljs-comment"> // each is of type string</span></span>
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>