<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Features/Data Importation/Data Importation CSV Agents --><head><meta charset="utf-8"><title>Data Importation CSV Agents</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="data-importation-csv-agents">Data Importation CSV Agents</h1>
<h1 id="csv-to-agents-model">CSV to Agents Model</h1>
<p><em>Author :  Patrick Taillandier</em></p>
<p>Model which shows how to create agents by importing data of a CSV file. The model read the CSV File and create an agent Iris for each line of the CSV, linking its attributes to columns of the CSV File. </p>
<p>Code of the model : </p>
<pre><code class="hljs processing">
model CSVfileloading

global {
    
    init {
        <span class="hljs-comment">//create iris agents from the CSV file (use of the header of the CSV file), the attributes of the agents are initialized from the CSV files: </span>
        <span class="hljs-comment">//we set the header facet to true to directly read the values corresponding to the right column. If the header was set to false, we could use the index of the columns to initialize the agent attributes</span>
        create iris from:csv_file( <span class="hljs-string">"../includes/iris.csv"</span>,<span class="hljs-keyword">true</span>) with:
            [sepal_length::<span class="hljs-built_in">float</span>(<span class="hljs-built_in">get</span>(<span class="hljs-string">"sepallength"</span>)), 
                sepal_width::<span class="hljs-built_in">float</span>(<span class="hljs-built_in">get</span>(<span class="hljs-string">"sepalwidth"</span>)), 
                petal_length::<span class="hljs-built_in">float</span>(<span class="hljs-built_in">get</span>(<span class="hljs-string">"petallength"</span>)),
                petal_width::<span class="hljs-built_in">float</span>(<span class="hljs-built_in">get</span>(<span class="hljs-string">"petalwidth"</span>)), 
                type::string(<span class="hljs-built_in">get</span>(<span class="hljs-string">"type"</span>))
            ];  
    }
}

species iris {
    <span class="hljs-built_in">float</span> sepal_length;
    <span class="hljs-built_in">float</span> sepal_width;
    <span class="hljs-built_in">float</span> petal_length;
    <span class="hljs-built_in">float</span> petal_width;
    string type;
    rgb <span class="hljs-built_in">color</span> ;
    
    init {
        <span class="hljs-built_in">color</span> &lt;- type =<span class="hljs-string">"Iris-setosa"</span> ? #<span class="hljs-built_in">blue</span> : ((type =<span class="hljs-string">"Iris-virginica"</span>) ? #<span class="hljs-built_in">red</span>: #yellow);
    }
    
    aspect <span class="hljs-keyword">default</span> {
        <span class="hljs-title">draw</span> circle(petal_width) <span class="hljs-built_in">color</span>: <span class="hljs-built_in">color</span>; 
    }
}

experiment main type: gui{
    output {
        display <span class="hljs-built_in">map</span> {
            species iris;
        }
    }
    
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>