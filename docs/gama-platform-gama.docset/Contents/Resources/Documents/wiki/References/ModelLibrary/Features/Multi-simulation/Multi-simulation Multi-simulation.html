<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Features/Multi-simulation/Multi-simulation Multi-simulation --><head><meta charset="utf-8"><title>Multi simulation Multi simulation</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="multi-simulation-multi-simulation">Multi simulation Multi simulation</h1>
<h1 id="multi-simulation">Multi Simulation</h1>
<p><em>Author : Patrick Taillandier</em></p>
<p>Model to show how to use multi-simulation, i.e. to run several times the same GUI experiment with potentially different parameter sets </p>
<p>Code of the model : </p>
<pre><code class="hljs arduino">
model multi_simulation

global {
    <span class="hljs-comment">//definition of three global variables of which the initial values will be used by the first simulation </span>
    <span class="hljs-keyword">int</span> nb_agents &lt;- <span class="hljs-number">10</span>;
    <span class="hljs-keyword">float</span> agent_speed &lt;- <span class="hljs-number">1.0</span>;
    rgb agent_color &lt;- <span class="hljs-meta">#green;</span>
    
    
    init {
        create dummy number: nb_agents;
    }
}

<span class="hljs-comment">//definition a simple species that just move randomly at a given speed</span>
species dummy skills: [moving]{
    rgb color &lt;- <span class="hljs-meta">#green;</span>
    reflex <span class="hljs-built_in">move</span> {
        <span class="hljs-built_in">do</span> wander speed: agent_speed;
    }
    aspect <span class="hljs-built_in">default</span> {
        draw <span class="hljs-built_in">circle</span>(<span class="hljs-number">2</span>) color: agent_color border: <span class="hljs-meta">#black;</span>
    }
}

experiment main type: gui {
    <span class="hljs-comment">//definition of a minimal duration for each cycle. As the model is very simple, it can run too fast to observe the results, so we slow it down.</span>
    <span class="hljs-keyword">float</span> minimum_cycle_duration &lt;- <span class="hljs-number">0.1</span>;
    
    <span class="hljs-comment">//we define a init block to create new simulations</span>
    init {
        <span class="hljs-comment">//we create a second simulation (the first simulation is always created by default) with the given parameters</span>
        create simulation with: [nb_agents:: <span class="hljs-number">5</span>, agent_speed:: <span class="hljs-number">3.0</span>, agent_color:: <span class="hljs-meta">#red];</span>
        
    }
    output {
        <span class="hljs-built_in">display</span> <span class="hljs-built_in">map</span> {
            <span class="hljs-comment">//we use an overlay to display the speed of the agents in the simulation</span>
            overlay <span class="hljs-string">"Overlay"</span> <span class="hljs-built_in">position</span>: { <span class="hljs-number">5</span>, <span class="hljs-number">5</span> } <span class="hljs-built_in">size</span>: { <span class="hljs-number">180</span> <span class="hljs-meta">#px, 30 #px } background: # black transparency: 0.5 border: #black rounded: true</span>
            {
               draw <span class="hljs-string">"agent_speed: "</span> + agent_speed color: <span class="hljs-meta"># white font: font(<span class="hljs-string">"SansSerif"</span>, 20, #bold) at: { 10°px, 20°px };</span>
            }
            species dummy;
        }
    }
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>