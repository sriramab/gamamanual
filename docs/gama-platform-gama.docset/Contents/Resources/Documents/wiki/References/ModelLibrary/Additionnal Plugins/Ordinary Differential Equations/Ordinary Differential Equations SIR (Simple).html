<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Additionnal Plugins/Ordinary Differential Equations/Ordinary Differential Equations SIR (Simple) --><head><meta charset="utf-8"><title>Ordinary Differential Equations SIR (Simple)</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="ordinary-differential-equations-sir-simple">Ordinary Differential Equations SIR (Simple)</h1>
<h1 id="sir-simple">SIR (Simple)</h1>
<p><em>Author : hqnghi</em></p>
<p>A simple example of ODE use into agents with the example of the SIR equation system.</p>
<p><img src="../../../../../github.com/wiki/gama-platform/gama/References/ModelLibrary/Additionnal Plugins/Ordinary Differential Equations/gm_wiki/resources/images/modelLibraryScreenshots/Additionnal Plugins/Ordinary Differential Equations/Ordinary Differential Equations SIR (Simple)/display_charts-10.png" alt="Eclipse folder." title="" class="img-responsive"> == $0</p><p>Code of the model : </p>
<pre><code class="hljs maxima">
model simple_ODE_SIR

global {
    init{
        create agent_with_SIR_dynamic number:<span class="hljs-number">1</span>;
    }
}


species agent_with_SIR_dynamic {
    int N &lt;- <span class="hljs-number">1500</span> ;
    int iInit &lt;- <span class="hljs-number">1</span>;     

    <span class="hljs-built_in">float</span> t;  
    <span class="hljs-built_in">float</span> S &lt;- N - <span class="hljs-built_in">float</span>(iInit);          
    <span class="hljs-built_in">float</span> I &lt;- <span class="hljs-built_in">float</span>(iInit); 
    <span class="hljs-built_in">float</span> R &lt;- <span class="hljs-number">0.0</span>; 
    
    <span class="hljs-built_in">float</span> alpha &lt;- <span class="hljs-number">0.2</span> <span class="hljs-built_in">min</span>: <span class="hljs-number">0.0</span> <span class="hljs-built_in">max</span>: <span class="hljs-number">1.0</span>;
    <span class="hljs-built_in">float</span> <span class="hljs-built_in">beta</span> &lt;- <span class="hljs-number">0.8</span> <span class="hljs-built_in">min</span>: <span class="hljs-number">0.0</span> <span class="hljs-built_in">max</span>: <span class="hljs-number">1.0</span>;

    <span class="hljs-built_in">float</span> h &lt;- <span class="hljs-number">0.01</span>;
   
    equation SIR{ 
        <span class="hljs-built_in">diff</span>(S,t) = (- <span class="hljs-built_in">beta</span> * S * I / N);
        <span class="hljs-built_in">diff</span>(I,t) = (<span class="hljs-built_in">beta</span> * S * I / N) - (alpha * I);
        <span class="hljs-built_in">diff</span>(R,t) = (alpha * I);
    }
                
    reflex solving {
        <span class="hljs-built_in">solve</span> SIR <span class="hljs-built_in">method</span>: <span class="hljs-string">"rk4"</span> <span class="hljs-keyword">step</span>: h ;//cycle_length: <span class="hljs-number">1</span>/h ;
    }    
}


experiment maths type: gui {
    output { 
        <span class="hljs-built_in">display</span> display_charts {
            chart <span class="hljs-string">"SIR_agent"</span> type: series <span class="hljs-built_in">background</span>: #white {
                data 'S' value: <span class="hljs-built_in">first</span>(list(agent_with_SIR_dynamic)).S <span class="hljs-built_in">color</span>: #green ;               
                data 'I' value: <span class="hljs-built_in">first</span>(list(agent_with_SIR_dynamic)).I <span class="hljs-built_in">color</span>: #red ;
                data 'R' value: <span class="hljs-built_in">first</span>(list(agent_with_SIR_dynamic)).R <span class="hljs-built_in">color</span>: #blue ;
            }
        }
    }
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>