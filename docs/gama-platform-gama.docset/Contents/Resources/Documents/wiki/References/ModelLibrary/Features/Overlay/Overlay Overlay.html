<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Features/Overlay/Overlay Overlay --><head><meta charset="utf-8"><title>Overlay Overlay</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="overlay-overlay">Overlay Overlay</h1>
<h1 id="overlay">Overlay</h1>
<p><em>Author : Alexis Drogoul and Patrick Taillandier</em></p>
<p>Model to show how to use overlay layers in a display</p>
<p>Code of the model : </p>
<pre><code class="hljs maxima">
model Overlay

global
{
    //<span class="hljs-built_in">define</span> the <span class="hljs-built_in">color</span> <span class="hljs-keyword">for</span> each possible type (among <span class="hljs-string">"water"</span>, <span class="hljs-string">"vegetation"</span> <span class="hljs-keyword">and</span> <span class="hljs-string">"building"</span>)
    <span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>,rgb&gt; color_per_type &lt;- [<span class="hljs-string">"water"</span>::#blue, <span class="hljs-string">"vegetation"</span>:: #green, <span class="hljs-string">"building"</span>:: #pink];
}

//<span class="hljs-built_in">define</span> a simple <span class="hljs-built_in">grid</span> with <span class="hljs-number">10</span> rows <span class="hljs-keyword">and</span> <span class="hljs-number">10</span> <span class="hljs-built_in">columns</span>
<span class="hljs-built_in">grid</span> cell <span class="hljs-built_in">width</span>: <span class="hljs-number">10</span> <span class="hljs-built_in">height</span>: <span class="hljs-number">10</span> {
    //each cell has a <span class="hljs-built_in">random</span> type
    <span class="hljs-built_in">string</span> type &lt;- one_of(color_per_type.keys);
    rgb <span class="hljs-built_in">color</span> &lt;- color_per_type[type];
}
experiment overlay type: gui
{
    output 
    {
        <span class="hljs-built_in">display</span> <span class="hljs-built_in">map</span> 
        {
            //<span class="hljs-built_in">define</span> a <span class="hljs-built_in">new</span> overlay layer positioned <span class="hljs-built_in">at</span> the coordinate <span class="hljs-number">5</span>,<span class="hljs-number">5</span>, with a <span class="hljs-built_in">constant</span> size of <span class="hljs-number">180</span> pixels per <span class="hljs-number">100</span> pixels.
            overlay <span class="hljs-string">"Overlay"</span> <span class="hljs-built_in">position</span>: { <span class="hljs-number">5</span>, <span class="hljs-number">5</span> } size: { <span class="hljs-number">180</span> #px, <span class="hljs-number">100</span> #px } <span class="hljs-built_in">background</span>: # black transparency: <span class="hljs-number">0.5</span> <span class="hljs-built_in">border</span>: #black rounded: <span class="hljs-literal">true</span>
            {
                //<span class="hljs-keyword">for</span> each possible type, we <span class="hljs-built_in">draw</span> a square with the corresponding <span class="hljs-built_in">color</span> <span class="hljs-keyword">and</span> we write the name of the type
                <span class="hljs-built_in">float</span> y &lt;- <span class="hljs-number">30</span>#px;
                loop type over: color_per_type.keys
                {
                    <span class="hljs-built_in">draw</span> square(<span class="hljs-number">10</span>#px) <span class="hljs-built_in">at</span>: { <span class="hljs-number">20</span>#px, y } <span class="hljs-built_in">color</span>: color_per_type[type] <span class="hljs-built_in">border</span>: #white;
                    <span class="hljs-built_in">draw</span> type <span class="hljs-built_in">at</span>: { <span class="hljs-number">40</span>#px, y + <span class="hljs-number">4</span>#px } <span class="hljs-built_in">color</span>: # white <span class="hljs-built_in">font</span>: <span class="hljs-built_in">font</span>(<span class="hljs-string">"SansSerif"</span>, <span class="hljs-number">18</span>, #bold);
                    y &lt;- y + <span class="hljs-number">25</span>#px;
                }

            }
            //<span class="hljs-keyword">then</span> we <span class="hljs-built_in">display</span> the <span class="hljs-built_in">grid</span>
            <span class="hljs-built_in">grid</span> cell lines: #black;
        }

    }
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>