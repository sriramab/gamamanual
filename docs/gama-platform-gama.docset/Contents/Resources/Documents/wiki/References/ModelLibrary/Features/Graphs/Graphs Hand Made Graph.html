<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Features/Graphs/Graphs Hand Made Graph --><head><meta charset="utf-8"><title>Graphs Hand Made Graph</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="graphs-hand-made-graph">Graphs Hand Made Graph</h1>
<h1 id="hand-made-graph">Hand Made Graph</h1>
<p><em>Author : Patrick Taillandier</em></p>
<p>Model to show how to build a graph from scratch using three ways : by putting a list of edges as parameter of as_edge_graph, by adding a node or an edge manually using facet to or by changing the graph itself after adding a node or an edge. The experiment has two displays : one for the first graph created from the list of edges, an other for the graph creating by adding the nodes and edges manually using add operator.</p>
<p>Code of the model : </p>
<pre><code class="hljs xquery">
@no_warning
model handMadeGraph

global {
    graph&lt;geometry, geometry&gt; the_graph1 ;
    graph&lt;geometry, geometry&gt; the_graph2;
    
    init {
        the_graph1 &lt;- as_edge_graph([edge({<span class="hljs-number">10</span>,<span class="hljs-number">5</span>}, {<span class="hljs-number">20</span>,<span class="hljs-number">3</span>}), edge({<span class="hljs-number">10</span>,<span class="hljs-number">5</span>}, {<span class="hljs-number">30</span>,<span class="hljs-number">30</span>}),edge({<span class="hljs-number">30</span>,<span class="hljs-number">30</span>}, {<span class="hljs-number">80</span>,<span class="hljs-number">35</span>}),edge({<span class="hljs-number">80</span>,<span class="hljs-number">35</span>}, {<span class="hljs-number">40</span>,<span class="hljs-number">60</span>}),edge({<span class="hljs-number">80</span>,<span class="hljs-number">35</span>}, {<span class="hljs-number">10</span>,<span class="hljs-number">5</span>}), node ({<span class="hljs-number">50</span>,<span class="hljs-number">50</span>})]); 
        
        the_graph2 &lt;- graph&lt;geometry, geometry&gt;([]);
        //first way to add nodes and edges
        the_graph2 &lt;&lt; node({<span class="hljs-number">50</span>,<span class="hljs-number">50</span>}) ;
        the_graph2 &lt;&lt; edge({<span class="hljs-number">10</span>,<span class="hljs-number">10</span>},{<span class="hljs-number">90</span>,<span class="hljs-number">50</span>});
        
        //second way to add nodes and edges
        the_graph2 &lt;- the_graph2 add_node {<span class="hljs-number">10</span>,<span class="hljs-number">40</span>} ;
        the_graph2 &lt;- the_graph2 add_edge ({<span class="hljs-number">35</span>,<span class="hljs-number">50</span>}:: {<span class="hljs-number">50</span>,<span class="hljs-number">50</span>}) ;
    }
    
}

species edge_agent {
    aspect default {    
        draw shape color: #black;
    }
}

species node_agent {
    aspect default {    
        draw circle(<span class="hljs-number">1</span>) color: #red;
    }
}

experiment create_graph type: gui {
    
    output {
        display graph1 type: opengl{
            graphics <span class="hljs-string">"the graph 1"</span> {
                loop e over: the_graph1.edges {
                    draw e color: 째blue; 
                }
                loop n over: the_graph1.vertices {
                    draw circle(<span class="hljs-number">2</span>) at: point(n) color: 째blue; 
                }
            }
        }
        display graph2 type: opengl{
            graphics <span class="hljs-string">"the graph 2"</span> {
                loop e over: the_graph2.edges {
                    draw e color: 째red; 
                }
                loop n over: the_graph2.vertices {
                    draw circle(<span class="hljs-number">2</span>) at: point(n) color: 째red; 
                }
            }
        }
    }
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>