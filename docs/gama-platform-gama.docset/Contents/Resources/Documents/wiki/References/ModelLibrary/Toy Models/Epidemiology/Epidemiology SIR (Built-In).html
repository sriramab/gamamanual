<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Toy Models/Epidemiology/Epidemiology SIR (Built-In) --><head><meta charset="utf-8"><title>Epidemiology SIR (Built In)</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="epidemiology-sir-built-in">Epidemiology SIR (Built In)</h1>
<h1 id="simple_ode_sir_predefined">simple_ODE_SIR_Predefined</h1>
<p>_Author : hqnghi _</p>
<p>A simple example of ODE use into agents with the example of the SIR equation system.</p>
<p>Code of the model : </p>
<pre><code class="hljs cs"> 
model simple_ODE_SIR_Predefined

global {
    init {
        create predefined_ODE_SIR_agent number: <span class="hljs-number">1</span>;
    }
}

<span class="hljs-comment">//Species which represent the Ordinary Differential Equations System </span>
species predefined_ODE_SIR_agent {
    <span class="hljs-comment">//Variable to represent the discrete time for integration</span>
    <span class="hljs-keyword">float</span> t;
    <span class="hljs-comment">//Total Population </span>
    <span class="hljs-keyword">int</span> N &lt;- <span class="hljs-number">500</span>;
    <span class="hljs-comment">//Number of infected</span>
    <span class="hljs-keyword">float</span> I &lt;- <span class="hljs-number">1.0</span>; 
    <span class="hljs-comment">//Number of susceptible</span>
    <span class="hljs-keyword">float</span> S &lt;- N - I; 
    <span class="hljs-comment">//Number of recovered</span>
    <span class="hljs-keyword">float</span> R &lt;- <span class="hljs-number">0.0</span>; 

    <span class="hljs-comment">//Rate of transmission success for each infected</span>
    <span class="hljs-keyword">float</span> beta &lt;- <span class="hljs-number">0.4</span>;
    <span class="hljs-comment">//Rate of passing to resistant</span>
    <span class="hljs-keyword">float</span> gamma &lt;- <span class="hljs-number">0.01</span>; 
        
    <span class="hljs-keyword">float</span> h &lt;- <span class="hljs-number">0.1</span>;

    <span class="hljs-comment">// Parameters must follow exact order S, I, R, t  and N,beta,gamma      </span>
    equation eqSIR type:SIR vars: [S,I,R,t] <span class="hljs-keyword">params</span>: [N,beta,gamma] ;

    reflex solving {solve eqSIR method:rk4 step:h ;}<span class="hljs-comment">//cycle_length:int(1/h);}</span>
}


experiment mysimulation type: gui {
    output {    
        display display_charts {
            chart <span class="hljs-string">'SIR_agent'</span> type: series background: <span class="hljs-meta">#lightgray {</span>
                data <span class="hljs-string">"S"</span> <span class="hljs-keyword">value</span>: first(predefined_ODE_SIR_agent).S color: <span class="hljs-meta">#green;</span>
                data <span class="hljs-string">"I"</span> <span class="hljs-keyword">value</span>: first(predefined_ODE_SIR_agent).I color: <span class="hljs-meta">#red;</span>
                data <span class="hljs-string">"R"</span> <span class="hljs-keyword">value</span>: first(predefined_ODE_SIR_agent).R color: <span class="hljs-meta">#blue;</span>
            }
        }
    }
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>