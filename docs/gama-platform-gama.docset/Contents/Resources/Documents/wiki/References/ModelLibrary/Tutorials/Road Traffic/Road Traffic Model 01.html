<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Tutorials/Road Traffic/Road Traffic Model 01 --><head><meta charset="utf-8"><title>Road Traffic Model 01</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="road-traffic-model-01">Road Traffic Model 01</h1>
<h1 id="loading-of-gis-data-buildings-and-roads">Loading of GIS data (buildings and roads)</h1>
<p>first part of the tutorial: Road Traffic</p>
<p>Code of the model : </p>
<pre><code class="hljs mipsasm">
model tutorial_gis_city_traffic

global {
    file <span class="hljs-keyword">buildings_shapefile </span>&lt;- file(<span class="hljs-string">"../includes/building.shp"</span>)<span class="hljs-comment">;</span>
    file roads_shapefile &lt;- file(<span class="hljs-string">"../includes/road.shp"</span>)<span class="hljs-comment">;</span>
    geometry <span class="hljs-keyword">shape </span>&lt;- envelope(envelope(<span class="hljs-keyword">buildings_shapefile) </span>+ envelope(roads_shapefile))<span class="hljs-comment">;</span>
    float step &lt;- <span class="hljs-number">10</span> <span class="hljs-comment">#mn;</span>
    
    init {
        create <span class="hljs-keyword">building </span>from: <span class="hljs-keyword">buildings_shapefile </span><span class="hljs-comment">;</span>
        create road from: roads_shapefile <span class="hljs-comment">;</span>
    }
}

species <span class="hljs-keyword">building </span>{
    string type<span class="hljs-comment">; </span>
    rgb color &lt;- <span class="hljs-comment">#gray  ;</span>
    
    aspect <span class="hljs-keyword">base </span>{
        draw <span class="hljs-keyword">shape </span>color: color <span class="hljs-comment">;</span>
    }
}

species road  {
    rgb color &lt;- <span class="hljs-comment">#red ;</span>
    aspect <span class="hljs-keyword">base </span>{
        draw <span class="hljs-keyword">shape </span>color: color <span class="hljs-comment">;</span>
    }
}

experiment road_traffic type: gui {
        
    output {
        <span class="hljs-keyword">display </span>city_display type:opengl {
            species <span class="hljs-keyword">building </span>aspect: <span class="hljs-keyword">base </span><span class="hljs-comment">;</span>
            species road aspect: <span class="hljs-keyword">base </span><span class="hljs-comment">;</span>
        }
    }
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>