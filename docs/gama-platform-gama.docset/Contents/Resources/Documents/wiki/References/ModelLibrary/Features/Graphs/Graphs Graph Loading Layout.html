<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Features/Graphs/Graphs Graph Loading Layout --><head><meta charset="utf-8"><title>Graphs Graph Loading Layout</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="graphs-graph-loading-layout">Graphs Graph Loading Layout</h1>
<h1 id="graph-from-dgs-file-and-layout-changed">Graph from DGS File and Layout Changed</h1>
<p><em>Author : Patrick Taillandier</em></p>
<p>Model which shows how to load a graph from a DGS File, and change is layout. </p>
<p>Code of the model : </p>
<pre><code class="hljs gams">
<span class="hljs-keyword">model</span> graphloadinglayout

global {
    graph the_graph ;
    string barabasi_file &lt;- <span class="hljs-string">"../includes/ProteinSimple.dgs"</span>;
    geometry shape &lt;- rectangle(<span class="hljs-number">500</span>,<span class="hljs-number">500</span>);
    string layout_type &lt;- <span class="hljs-string">"forcedirected"</span>;
    int layout_time &lt;- <span class="hljs-number">1000</span>;
    
    <span class="hljs-comment">//The operator load_graph_from_file generates the graph from the file, and chose the vertices as agents of node_agent </span>
    <span class="hljs-comment">//species, and edges as edge_agent agents</span>
    init {
        the_graph &lt;- load_graph_from_file(barabasi_file, node_agent, edge_agent);
    }
    
    <span class="hljs-comment">//In case the layout type is forcedirected or random, the reflex will change at each step the layout of the graph</span>
    reflex layout_graph {
        the_graph &lt;- layout(the_graph, layout_type, layout_time);
    }
}

species edge_agent {
    aspect default {    
        draw shape color: #black;
    }
}

species node_agent {
    aspect default {    
        draw circle(<span class="hljs-number">2</span>) color: #red;
    }
}

experiment loadgraph type: gui {
    <span class="hljs-keyword">parameter</span> <span class="hljs-string">"Layout type"</span> var: layout_type <span class="hljs-comment">among: [</span> <span class="hljs-comment">"forcedirected"</span><span class="hljs-comment">,</span> <span class="hljs-comment">"random"</span><span class="hljs-comment">,</span> <span class="hljs-comment">"radialtree"</span><span class="hljs-comment">,</span> <span class="hljs-comment">"circle"</span><span class="hljs-comment">]</span>;
    <span class="hljs-keyword">parameter</span> <span class="hljs-string">"layout time"</span> var: layout_time <span class="hljs-comment">min: 1 max: 100000</span>;
    output {
        <span class="hljs-keyword">display</span> map type: opengl{
            species edge_agent ;
            species node_agent ;
        }
    }
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>