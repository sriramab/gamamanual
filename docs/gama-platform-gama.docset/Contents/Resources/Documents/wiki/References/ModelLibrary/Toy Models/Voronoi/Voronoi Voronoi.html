<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Toy Models/Voronoi/Voronoi Voronoi --><head><meta charset="utf-8"><title>Voronoi Voronoi</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="voronoi-voronoi">Voronoi Voronoi</h1>
<h1 id="voronoi">Voronoi</h1>
<p>_Author : _</p>
<p>A model showing how to clusterize space using the closest center as the kernel of our cluster. The space is discretized using a grid, each cell computing its distance from a center to know in which cluster it is. </p>
<p>Code of the model : </p>
<pre><code class="hljs maxima">
model voronoi
 
global {
    // Parameters 
    //Number of <span class="hljs-built_in">points</span>
    int num_points &lt;- <span class="hljs-number">4</span> <span class="hljs-built_in">min</span>: <span class="hljs-number">1</span> <span class="hljs-built_in">max</span>: <span class="hljs-number">1000</span>;
    //Size of the environment
    int env_width &lt;- <span class="hljs-number">100</span> <span class="hljs-built_in">min</span>: <span class="hljs-number">10</span> <span class="hljs-built_in">max</span>: <span class="hljs-number">400</span>;
    int env_height &lt;- <span class="hljs-number">100</span> <span class="hljs-built_in">min</span>: <span class="hljs-number">10</span> <span class="hljs-built_in">max</span>: <span class="hljs-number">400</span>;
    
    // Environment
    geometry shape &lt;- <span class="hljs-built_in">rectangle</span>(env_width, env_height);
    
    init { 
        write 'This model shows how Voronoi-like shapes can be drawn on a regular <span class="hljs-built_in">surface</span>. A set of mobile agents <span class="hljs-built_in">is</span> placed on a <span class="hljs-built_in">grid</span>. Each agent possesses an attribute called *inside_color*. Each <span class="hljs-keyword">step</span>, the agents move randomly <span class="hljs-keyword">and</span> the <span class="hljs-built_in">grid</span> cells paint themselves using the *inside_color* of the nearest agent. Dynamical boundaries <span class="hljs-keyword">then</span> appear on the screen without any further calculations.';
        //Creation of all the <span class="hljs-built_in">points</span>
        create <span class="hljs-built_in">center</span> number: num_points ;  
    }   
} 
//Grid <span class="hljs-keyword">for</span> the voronoi clustering
<span class="hljs-built_in">grid</span> cell <span class="hljs-built_in">width</span>: env_width <span class="hljs-built_in">height</span>: env_height <span class="hljs-built_in">neighbors</span>: <span class="hljs-number">8</span> use_regular_agents: <span class="hljs-literal">false</span> {
    // Note: since GAMA <span class="hljs-number">1.7</span>, the topology needs to be specified <span class="hljs-keyword">for</span> this computation to use continuous distances
    <span class="hljs-built_in">center</span> closest_center &lt;- nil update: (<span class="hljs-built_in">center</span> closest_to self.location) using topology(world);
    rgb <span class="hljs-built_in">color</span> &lt;- #white update: (closest_center).<span class="hljs-built_in">color</span>;
}
//Species representing the <span class="hljs-built_in">center</span> of a Voronoi point
species <span class="hljs-built_in">center</span> skills: [moving] { 
    rgb <span class="hljs-built_in">color</span> &lt;- rgb([rnd (<span class="hljs-number">255</span>),rnd (<span class="hljs-number">255</span>),rnd (<span class="hljs-number">255</span>)]); 
    //Make the <span class="hljs-built_in">center</span> of the cluster wander <span class="hljs-keyword">in</span> the environment       
    reflex wander {
        <span class="hljs-keyword">do</span> wander amplitude: <span class="hljs-number">90</span>;
    }  
    aspect base {
        <span class="hljs-built_in">draw</span> square(<span class="hljs-number">1.0</span>) <span class="hljs-built_in">color</span>: <span class="hljs-built_in">color</span>;
    }
}


experiment voronoi type: gui{ 
    parameter 'Number of <span class="hljs-built_in">points</span>:' <span class="hljs-built_in">var</span>: num_points;
    parameter 'Width of the environment:' <span class="hljs-built_in">var</span>: env_width;
    parameter 'Height of the environment:' <span class="hljs-built_in">var</span>: env_height;
    
    output {
        <span class="hljs-built_in">display</span> Voronoi type: opengl {
            <span class="hljs-built_in">grid</span> cell  ;
            species <span class="hljs-built_in">center</span> aspect: base ;
        }
    }   
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>