<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Features/Graphs/Graphs Graph Operators --><head><meta charset="utf-8"><title>Graphs Graph Operators</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="graphs-graph-operators">Graphs Graph Operators</h1>
<h1 id="graph-operators">Graph Operators</h1>
<p><em>Author : Patrick Taillandier</em></p>
<p>Model to show how to use the different existing operators for the graph species</p>
<p>Code of the model : </p>
<pre><code class="hljs arduino">
model graphoperators

global {
    graph&lt;geometry,geometry&gt; the_graph;
    list&lt;list&gt; cliques;
    init {
        create people number: <span class="hljs-number">50</span>;
        
        <span class="hljs-comment">//creation of the graph: all vertices that are at distance &lt;= 20 are connected</span>
        the_graph &lt;- as_distance_graph(people, <span class="hljs-number">20</span>);
        
        <span class="hljs-comment">//compute the betweenness_centrality of each vertice</span>
        <span class="hljs-built_in">map</span>&lt;people,<span class="hljs-keyword">float</span>&gt; bc &lt;- <span class="hljs-built_in">map</span>&lt;people, <span class="hljs-keyword">float</span>&gt;(betweenness_centrality(the_graph));
        <span class="hljs-keyword">float</span> max_centrality &lt;- <span class="hljs-built_in">max</span>(bc.values);
        <span class="hljs-keyword">float</span> min_centrality &lt;- <span class="hljs-built_in">min</span>(bc.values);
        ask people {
            centrality &lt;- (bc[self] - min_centrality) / (max_centrality - min_centrality);
            centrality_color &lt;- rgb(<span class="hljs-number">255</span>, <span class="hljs-keyword">int</span>(<span class="hljs-number">255</span> * (<span class="hljs-number">1</span> - centrality)), <span class="hljs-keyword">int</span>(<span class="hljs-number">255</span> * (<span class="hljs-number">1</span> - centrality)));
        }
        <span class="hljs-built_in">write</span> <span class="hljs-string">"mean vertice degree: "</span> + mean(the_graph.vertices collect (the_graph degree_of each));
        <span class="hljs-built_in">write</span> <span class="hljs-string">"nb_cycles: "</span> + nb_cycles(the_graph);
        <span class="hljs-built_in">write</span> <span class="hljs-string">"alpha_index: "</span> + alpha_index(the_graph);
        <span class="hljs-built_in">write</span> <span class="hljs-string">"beta_index: "</span> + beta_index(the_graph);
        <span class="hljs-built_in">write</span> <span class="hljs-string">"gamma_index: "</span> + gamma_index(the_graph);
        <span class="hljs-built_in">write</span> <span class="hljs-string">"connectivity_index: "</span> + connectivity_index(the_graph);
        <span class="hljs-built_in">write</span> <span class="hljs-string">"connected_components_of: "</span> + length(connected_components_of(the_graph));
        
        <span class="hljs-built_in">write</span> <span class="hljs-string">"connected_components_of: "</span> + length(connected_components_of(the_graph));
        
        <span class="hljs-built_in">write</span> <span class="hljs-string">"maximal_cliques_of:"</span> + (maximal_cliques_of(the_graph) collect (length(each)));
        <span class="hljs-built_in">write</span> <span class="hljs-string">"biggest_cliques_of:"</span> + (biggest_cliques_of(the_graph) collect (length(each)));
    }
}

species people {
    <span class="hljs-keyword">float</span> centrality;
    rgb centrality_color;
    aspect centrality{
        draw <span class="hljs-built_in">circle</span>(<span class="hljs-number">1</span>) color: centrality_color;
        
    }
}

experiment graphoperators type: gui {
    
    output {
        
        <span class="hljs-built_in">display</span> <span class="hljs-built_in">map</span> <span class="hljs-built_in">background</span>:<span class="hljs-meta">#lightgray{</span>
            graphics <span class="hljs-string">"edges"</span> {
                <span class="hljs-built_in">loop</span> edge over: the_graph.edges {
                    draw edge color: <span class="hljs-meta">#black;</span>
                }
            }
            species people aspect: centrality;
        }
    }
}
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>