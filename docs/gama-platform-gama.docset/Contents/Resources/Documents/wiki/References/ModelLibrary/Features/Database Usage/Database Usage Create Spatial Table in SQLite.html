<html><!-- Online page at https://github.com/gama-platform/gama/wiki/References/ModelLibrary/Features/Database Usage/Database Usage Create Spatial Table in SQLite --><head><meta charset="utf-8"><title>Database Usage Create Spatial Table in SQLite</title><script src="../../../../../dash_resources/highlight.all.js"></script><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/github-markdown.css"><link rel="stylesheet" type="text/css" href="../../../../../dash_resources/highlightjs.github.css"></head><body class="markdown-body" style="padding-bottom:20px; margin: 8px 13px;"><h1 id="database-usage-create-spatial-table-in-sqlite">Database Usage Create Spatial Table in SQLite</h1>
<h1 id="createbuildingtablesqlite">CreateBuildingTableSQLite</h1>
<p><em>Author : Truong Minh Thai</em></p>
<p>This model shows how to create a database and a table in SQLite using GAMA</p>
<p>Code of the model : </p>
<pre><code class="hljs nginx">
<span class="hljs-attribute">model</span> SQLite_selectNUpdate
  
global {
    <span class="hljs-attribute">map</span> PARAMS &lt;- [<span class="hljs-string">'dbtype'</span>::<span class="hljs-string">'sqlite'</span>,<span class="hljs-string">'database'</span>::<span class="hljs-string">'../../includes/spatialite.db'</span>];

    <span class="hljs-section">init</span> {
        <span class="hljs-attribute">create</span> dummy ;
        <span class="hljs-attribute">ask</span> (dummy) 
        { 
            <span class="hljs-attribute">do</span>  executeUpdate params: PARAMS 
                    updateComm: <span class="hljs-string">"DROP TABLE bounds; "</span> ;
            <span class="hljs-attribute">do</span>  executeUpdate params: PARAMS 
                    updateComm: <span class="hljs-string">"DROP TABLE buildings; "</span> ;
  
            <span class="hljs-attribute">write</span> <span class="hljs-string">"dropped tables!"</span>;
            <span class="hljs-attribute">do</span> executeUpdate params: PARAMS updateComm: <span class="hljs-string">"CREATE TABLE bounds "</span> +
                   <span class="hljs-string">"(id INTEGER PRIMARY KEY, "</span> +
                   <span class="hljs-string">" geom BLOB NOT NULL); "</span>  ;
            <span class="hljs-attribute">do</span> executeUpdate params: PARAMS updateComm: <span class="hljs-string">"CREATE TABLE buildings "</span> +
                   <span class="hljs-string">"(id INTEGER PRIMARY KEY, "</span> +
                   <span class="hljs-string">" name TEXT NOT NULL,"</span> +
                   <span class="hljs-string">" type TEXT NOT NULL,"</span> +
                   <span class="hljs-string">" geom BLOB NOT NULL); "</span>  ;

        }
    }
}  

<span class="hljs-attribute">species</span> dummy skills: [SQLSKILL] { } 

<span class="hljs-attribute">experiment</span> default_expr type:gui {

}     
</code></pre>
<script>hljs.initHighlightingOnLoad();</script></body></html>